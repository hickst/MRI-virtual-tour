<!DOCTYPE html>
<html>

<head>
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  <script src="/src/components/tcomponents.js"></script>
  <!-- Infopoint information is contained in a global JS variable 'tourInfo'. -->
  <script src="/mri/patch_panel_info.js"></script>

  <link rel="stylesheet" href="/src/components/tour.css"></script>
</head>

<body>

  <!-- This is the parent entity of the entire VR tour. -->
  <a-scene loading-screen="dotsColor: black; backgroundColor: white"
           xr-mode-ui="XRMode:vr; enabled:false"
           cursor="rayOrigin: mouse">

    <!-- Asset management -->
    <a-assets>
      <img id="patch-panel" src="/mri/patch_panel.jpg" />
      <img id="arrow" src="/src/assets/arrow.png" />
    </a-assets>

    <!-- Entity which wraps the camera -->
    <a-entity id="maincam" position="0 0 0">
      <a-camera></a-camera>
    </a-entity>


    <!-- Entities generated using A-Frame templates. -->

    <!-- Navigation circles: click to jump to another scene. -->
    <t-navpoint id="to-back1"
                link="href: /mri/scanner_back1.html"
                position="-10 -10 -16" rotation="80 -90 0">
    </t-navpoint>

    <t-navpoint id="to-enter-scanner"
                link="href: /mri/enter_scanner.html"
                position="14 -10 -16" rotation="85 160 0">
    </t-navpoint>

    <t-navpoint id="to-console"
                link="href: /mri/console.html"
                position="17 -5.5 -17" rotation="90 80 -5">
    </t-navpoint>

    <!-- Information spheres: show info for real-world items in 360 image.-->
    <t-infopoint id="scanTable" infokey="scanTable" position="-7 -1.4 -17">
    </t-infopoint>

    <t-infopoint id="ergometerInuse" infokey="ergometerInuse" radius=".3" position="3 2 -17">
    </t-infopoint>

    <t-infopoint id="patchpanel" infokey="patchpanel" radius=".3" position="17 -9 -2">
    </t-infopoint>

    <t-infopoint id="injector" infokey="injector" radius=".5" position="15 -10.2 10">
    </t-infopoint>

    <t-infopoint id="phantoms" infokey="phantoms" position="-3.2 -4.5 12">
    </t-infopoint>

    <t-infopoint id="headcoil32" infokey="headcoil32" position="-17 -2 0.5">
    </t-infopoint>


    <!-- The sky sphere on which the 360 image is projected. The sky is rotated
         slightly in each scene for best viewing. -->
    <a-sky src="#patch-panel" radius="30" position="0 0 -4" rotation="-10 150 2"></a-sky>

  </a-scene>

  <!-- The information popup iframe, used by all infopoints. -->
  <iframe id="the-iframe" name="the-iframe" class="iframeRight"
          src="/src/info_popup.html" style="display:none" />

</body>
</html>
