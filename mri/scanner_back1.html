<!DOCTYPE html>
<html>

<head>
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  <script src="tcomponents.js"></script>

  <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
        crossorigin="anonymous" />
  <link rel="stylesheet" href="../tour.css"></script>
</head>

<body>

  <!-- This is the parent entity of the entire scene. -->
  <a-scene loading-screen="dotsColor: black; backgroundColor: white"
           xr-mode-ui="XRMode:vr; enabled:false"
           cursor="rayOrigin: mouse">

    <!-- Asset management -->
    <a-assets>
      <img id="scanner-back1" src="../images/scanner_back1.jpg" />
      <img id="arrow" src="../images/arrow.png" />
    </a-assets>

    <!-- Entity which wraps the camera -->
    <a-entity id="maincam" position="0 0 0">
      <a-camera></a-camera>
    </a-entity>


    <!-- Entities generated using A-Frame templates. -->

    <!-- Navigation circles: click to jump to another scene. -->
    <t-navpoint id="to-back2"
                link="href: scanner_back2.html"
                position="-5 -10 -16" rotation="90 -130 0">
    </t-navpoint>

    <t-navpoint id="to-patch-panel"
                link="href: patch_panel.html"
                position="14 -10 -16" rotation="90 140 0" scale=".9 .9 .9">
    </t-navpoint>

    <!-- Information spheres: show info for real-world items in 360 image.-->
    <t-infopoint id="displayTrolley" position="-6.8 1.4 -17"
                 data-bs-toggle="modal" data-bs-target="#trolleyModal">
    </t-infopoint>

    <t-infopoint id="breastCoil" position="-15 7 -17"
                 data-bs-toggle="modal" data-bs-target="#breastCoilModal">
    </t-infopoint>

    <t-infopoint id="gurney" position="-20 0 -17"
                 data-bs-toggle="modal" data-bs-target="#gurneyModal">
    </t-infopoint>

    <t-infopoint id="consoleWindow" position="15 2.5 -17"
                 data-bs-toggle="modal" data-bs-target="#consoleModal">
    </t-infopoint>


    <!-- The sky sphere on which the 360 image is projected. The sky is rotated
         slightly in each scene for best viewing. -->
    <a-sky src="#scanner-back1" radius="30" rotation="0 100 15" position="0 0 -1"></a-sky>

  </a-scene>


  <!-- Modals to popup in response to an infosphere. -->
  <div id="trolleyModal" class="modal modal-lg" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header text-center">
          <h3 class="modal-title w-100">Display Trolley</h3>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <p>
            This positionable trolley holds a 24-inch HD monitor and has an
            eye-tracking camera resting on top of it. The display is used for
            presenting visual stimuli. A custom aluminum enclosure makes it
            MR-compatible. Its HD resolution (1900 x 1200 at 60Hz) is identical to
            the monitor in the Console room and the two displays are cloned. However,
            using a specialized SD card, the image on this display is left-right
            flipped so that it can be viewed by the participant through a mirror
            located on top of the head coil.
          </p>

          <p>
            <span class="heavy">Model Name:</span> Cambridge Research Systems
            BOLDscreen MRI-compatible display.
          </p>
        </div>
        <div class="mod-image-div">
          <img class="mod-image" src="../images/sb1_display_trolley.jpg"></img>
        </div>
      </div>
    </div>
  </div>

  <div id="breastCoilModal" class="modal modal-lg" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header text-center">
          <h3 class="modal-title w-100">Breast Coil Closet</h3>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          This closet contains a breast coil (sitting on top of a small ladder)
          and gear for Magnetic Resonance Elastography (the white plastic disc,
          grey tubes, and device in recess above). MRE is a technology that
          combines MRI imaging with low-frequency vibrations to create a visual
          map (elastogram) that shows the stiffness of body tissues. Also, note
          the exposed copper barrier, which sheaths the entire Scanner room.
        </div>
        <div class="mod-image-div">
          <img class="mod-image" src="../images/sb1_breast_coil_closet.jpg"></img>
        </div>
      </div>
    </div>
  </div>

  <div id="gurneyModal" class="modal modal-lg" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header text-center">
          <h3 class="modal-title w-100">MRI-Safe Gurney</h3>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          This gurney can be used to remove a participant from the Scanner room
          in case of an emergency. For example, if a participant had a heart attack
          you would want to remove them from the Scanner room so that EMTs would
          not have to work around the strong magnetic field.
        </div>
        <div class="mod-image-div">
          <img class="mod-image" src="../images/sb1_gurney.jpg"></img>
        </div>
      </div>
    </div>
  </div>

  <div id="consoleModal" class="modal modal-lg" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header text-center">
          <h3 class="modal-title w-100">Console Room Window</h3>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          The Console room window allows the MRI technician to monitor activities
          in the Scanner room while sitting at the operater's console. The window
          contains an embedded metal mesh to block stray radio signals into and out
          of the Scanner room. The patch panel, directly below the window, allows
          cables to be connected from the Console room to the Scanner room while
          blocking unwanted radio frequencies.
        </div>
      </div>
    </div>
  </div>


  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
          integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
          crossorigin="anonymous">
  </script>

</body>
</html>
