<!DOCTYPE html>
<html>

<head>
  <!-- this imports the aframe package that we use for web vr -->
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  <script src="/src/components/acomponents.js"></script>
  <link rel="stylesheet" href="/src/components/acomponents.css"></script>
</head>

<body>
  <!-- this holds the spinner when the scene is loading instead of just showing a blank page -->
  <div id="loaderHolder">
    <div class="loader"></div>
  </div>

  <!-- this is the parent of the entire vr tour scene -->
  <!-- since we want the mouse to trigger things we set up the cursor this way,
       then we can trigger things like mouse interactions on elements we customized to listen -->
  <a-scene loading-screen="dotsColor: black; backgroundColor: white" cursor="rayOrigin: mouse">


    <!-- this is where we load in the various things we will use for the scene
         * the 360 image gets placed on the sky entity,
         * the info and arrow icons get used on the circles, placed around the scene,
         * the anchors glb is a file that we used to make sure the elements get placed in the
         right locations when Aframe starts.
      -->
    <a-assets>
      <img id="enter-scanner" src="/public/enter_scanner.jpg" />
      <img id="info" src="/src/assets/info.png" />
      <img id="arrow" src="/src/assets/arrow.png" />

      <a-asset-item id="anchors" src="/public/anchor.glb"></a-asset-item>
    </a-assets>


    <!-- Adding in a entity that holds the camera, this is preferable to adding a
         simple camera as it allows for more extension later for whatever reason.
      -->
    <a-entity id="maincam" rotation="-15 0 -5" position="0 0 0">
      <a-camera></a-camera>
    </a-entity>


    <a-circle id="to_console"
              link="href: /public/console.html; image: /src/assets/arrow.png"
              material="side:double;src:#arrow;shader:flat"
              position="55 -75 -55" rotation="85 -60 -30" scale="4 4 .01">
    </a-circle>

    <a-circle id="to_patchpanel"
              link="href: /public/patch_panel.html; image: /src/assets/arrow.png"
              material="side:double;src:#arrow;shader:flat"
              position="-35 -75 -65" rotation="85 200 -30" scale="4 4 .01">
    </a-circle>

    <a-circle id="info1"
              mlisten="htmlFile:/public/popout.html"
              material="side:double;src:#info;shader:flat"
              position="80 4 -135" rotation="0 0 0" scale="4 4 .01">
    </a-circle>

    <!-- this is the element that controls the popout dynamics. The mlisten is a component
         we defined to react to mouse over and click events-->
    <a-sky src="#enter-scanner"></a-sky>
  </a-scene>

</body>
</html>
